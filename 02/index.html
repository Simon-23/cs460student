<html>
  <head>
    <title>CS460.org Assignment 2</title>
    <style>
      body {
        background-color:#000;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden !important; 
      }
    </style>
    <script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script> 
    <script type="text/javascript" src="https://simon-23.github.io/cs460student/02/loader.js"></script>
    <script type="text/javascript">
      CUBE_SIDELENGTH = 10;
      GAP = 2;
      window.onload = function() {
        console.log('loaded.');
        r = new X.renderer3D();
        r.init();
        // Places a cube
        c = new X.cube();
        c.color = [1, .753, .796];
        c.lengthZ = 11;
        c.lengthY = 11;
        c.lengthX = 11;

        r.add(c);
        r.render();
      };

      window.onkeypress = function(e) {
        // Movement keys
        if (e.code == 'KeyD') { // Right movement
          c.transform.translateX(-CUBE_SIDELENGTH - GAP);
        } else if (e.code == 'KeyA') { // Left movement
          c.transform.translateX(CUBE_SIDELENGTH + GAP);
        } else if (e.code == 'KeyW') { // Up movement
          c.transform.translateZ(CUBE_SIDELENGTH + GAP);
        } else if (e.code == 'KeyS') { // Down movement
          c.transform.translateZ(-CUBE_SIDELENGTH - GAP);
        } else if (e.code == 'KeyQ') { // Forward movement
          c.transform.translateY(CUBE_SIDELENGTH + GAP);
        } else if (e.code == 'KeyE') { // Back movement
          c.transform.translateY(-CUBE_SIDELENGTH - GAP);
        }
        // Changes color using RGB 0-1
        if (e.code == 'Digit1') {
          c.color = [1, 1, 1]; // White
        } else if (e.code == 'Digit2') {
          c.color = [1, 0, 0]; // Red
        } else if (e.code == 'Digit3') {
          c.color = [0, 1, 0]; // Green
        } else if (e.code == 'Digit4') {
          c.color = [0, 0, 1]; // Blue
        } else if (e.code == 'Digit5') {
          c.color = [1, 1, 0]; // Yellow
        } else if (e.code == 'Digit6') {
          c.color = [1, .753, .796]; // Pink
        } else if (e.code == 'Digit7') {
          c.color = [0, 1, 1]; // Cyan
        } else if (e.code == 'Digit0') {
          c.color = [0, 0, 0]; // Black
        }
        // Adding new cube with space bar
        if (e.code == 'Space') {
          new_cube = new X.cube();
          new_cube.color = c.color;
          new_cube.transform.matrix = new Float32Array(c.transform.matrix);
          new_cube.lengthX = new_cube.lengthY = new_cube.lengthZ = CUBE_SIDELENGTH;
          r.add(new_cube);
      }
        // Scene storage using loader.js
        if (e.code == 'KeyO') { // Download key
          download();
        } else if (e.code == 'KeyL') { // Upload key
          upload("scene.json");
        }
      


    }

  </script>
  </head>
  <body>
  </body>
</html>
